"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[11697],{903414:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepAuthDesktopPinRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinRepWithImpressions_pin"}],type:"Pin",abstractKey:null};n.hash="000e24070b5df05da76d803775cb37e6";let r=n},700554:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};n.hash="51f44b91a29d43c6d06785fcb846b61b";let r=n},770181:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepAuthDesktopPinRep_pin"}],type:"Pin",abstractKey:null};n.hash="7982b415980bdf92f7b9338cb5f6c539";let r=n},910982:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};n.hash="630f94c5c1fff86bdd3cb70e987c1fee";let r=n},263032:(e,t,i)=>{i.d(t,{YS:()=>s,eF:()=>l,m_:()=>a});var n=i(934378),r=i(953565);function a(e,t,i,r,a,s){let l=new URLSearchParams,o=e??"0",d=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(n){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);return l.append(n.NR.SOURCE_EVENT_ID,o),l.append(n.NR.DESTINATION,JSON.stringify([...d])),l.append(n.NR.EXPIRY,i?n.uV:n.ug),l.append(n.NR.PRIORITY,i?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),a&&l.append(n.NR.ADVERTISER_ID,a),r&&l.append(n.NR.CAMPAIGN_ID,r),l.append(n.NR.SOURCE_EVENT_TYPE,i?n.bC:n.Cu),s?"https://www.pinterest.com/attribution_source/?"+l.toString():"/attribution_source/?"+l.toString()}async function s(e,t,i,n,s,l,o,d,u,p){let{appType:c,osType:h}=l||{};if(["Pin","pinImpressions"].includes(e)&&t&&(n||d||u)){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:c,osType:h}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:c,osType:h}});return}let e=a(i,[n,d,u],!1,s,o,p),t=await window.fetch(e,{mode:"no-cors",keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}});if(!t.ok)throw Error("server request failed.");(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:c,osType:h}})}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,appType:c,osType:h}})}}else(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:c,osType:h}})}function l(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},558273:(e,t,i)=>{i.d(t,{NK:()=>_,P6:()=>a,VX:()=>l,ZE:()=>m,Zt:()=>x,_J:()=>d,_S:()=>f,cL:()=>h,jL:()=>o,oN:()=>r,rM:()=>g,sV:()=>u,sY:()=>p});var n=i(115557);let r=5e3,a=r/n.gJ,s=["Uploaded by user"],l=(e,t)=>t&&t.products&&t.products.length>0||e?.products&&e.products.length>0||!1,o=(e,t)=>!!t&&!e,d=e=>!!e&&5!==e,u=e=>["email","messages","deep_linking"].includes(e),p=e=>!!e&&"gif"===e,c=e=>"pinstory"===e,h=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!p(i)&&!c(t),g=({link:e,mobileLink:t,trackedLink:i})=>!t&&!i&&!e,m=e=>/pin.it/gim.test(e||""),x=({link:e,mobileLink:t,origImageUrl:i,trackedLink:n})=>t||n||e||i||"",_=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function f(e){for(let t of s)if(e===t)return!1;return!0}},314018:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(860208),r=i(337478);function a({bubbleId:e,pinId:t,query:i,referringSource:a,storyCategory:s,storyId:l,title:o}){let d=[0,24,21,26].includes(s),u=(0,r.Z)({q:i,rs:a||void 0,b_id:e,source_id:l,top_pin_id:t}),p=d&&o?(0,n.x)({title:o,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?p:`/search/pins/${u?"?"+u:""}`}},369708:(e,t,i)=>{i.d(t,{Wr:()=>u,rG:()=>d});var n=i(667294),r=i(214877),a=i(342513),s=i(340523),l=i(785893);let{Provider:o,useHook:d}=(0,a.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:i}=(0,r.v)(),{checkExperiment:a}=(0,s.F)(),[d,u]=(0,n.useState)(!1),[p,c]=(0,n.useState)([]),[h,g]=(0,n.useState)([]),[m,x]=(0,n.useState)({}),_=a("web_ads_mrc_video_impression").anyEnabled,f=e=>{x(t=>({...t,[e]:!0}))},b=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=(e.aux_data?.commerce_data||"").includes("story_pin_id");_&&(t||i)&&c(t=>[...t,e].slice(-1e3))}},[_]),y=(0,n.useCallback)(e=>{18===e.eventType&&_&&g(t=>[...t,e].slice(-1e3))},[_]),v=e=>{let{renderDuration:t,time:i}=e.event_data.pinImpressions[0],n=Math.max(t,15e8);return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:i+n,renderDuration:n}]}}},P=e=>{if(e.eventData){let{time:t,endTime:i}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:(t??0)+Math.max((i??0)-(t??0),15e8)}}}return null};(0,n.useEffect)(()=>{let e=p.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0],n=m[i];if(n&&_){let i=v(e);return t(i),!1}return!0});e.length!==p.length&&c(e)},[p,_,t,m]),(0,n.useEffect)(()=>{let e=h.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;let n=m[t];if(n&&_){let t=P(e);return t&&i(t),!1}return!0});e.length!==h.length&&g(e)},[h,_,i,m]);let j=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:y,logMrcVideoAdEventOnPlay:b,setCaptionsEnabled:u,setVideoPlayed:f,videosPlayed:m}),[d,b,y,m]);return(0,l.jsx)(o,{value:j,children:e})}},115557:(e,t,i)=>{i.d(t,{$f:()=>a,Cy:()=>d,DR:()=>r,EB:()=>c,Fm:()=>o,Y7:()=>p,bR:()=>l,gJ:()=>s,lG:()=>u});var n=i(172045);let r=1,a=2,s=1e3,l=1e3,o=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function p(e){return e+"-"+(0,n.Z)()}function c(){return(0,n.Z)()}},676554:(e,t,i)=>{i.d(t,{F4:()=>_,ZP:()=>T,hW:()=>x,jz:()=>f,q:()=>m,rX:()=>E}),i(167912);var n,r,a,s,l=i(240684),o=i(207012),d=i(554786),u=i(149722),p=i(19447),c=i(118923),h=i(832853),g=i(785893);let m=(0,l.ZP)({resolved:{},chunkName:()=>"AuthDesktopPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(93041),i.e(60310),i.e(53993),i.e(38430),i.e(2984)]).then(i.bind(i,912849)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return i(t)},resolve:()=>912849}),x=(0,l.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(97270),i.e(93810),i.e(37434),i.e(55731),i.e(39921)]).then(i.bind(i,113936)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return i(t)},resolve:()=>113936}),_=(0,h.Z)(()=>Promise.all([i.e(93041),i.e(60310),i.e(53993),i.e(38430),i.e(2984)]).then(i.bind(i,912849)),void 0,"AuthDesktopPinRep"),f=(0,h.Z)(()=>Promise.all([i.e(97270),i.e(93810),i.e(37434),i.e(55731),i.e(39921)]).then(i.bind(i,113936)),void 0,"DefaultPinRep"),b=void 0!==n?n:n=i(910982),y=void 0!==r?r:r=i(770181),v=void 0!==a?a:a=i(903414),P=e=>{let t=(0,c.b)(),{pinKey:i,trackingParamsMap:n,...r}=e,a=(0,o.Z)(v,i);return t?(0,g.jsx)(_,{...r,pinKey:a,trackingParamsMap:n}):(0,g.jsx)(m,{...r,pinKey:a,trackingParamsMap:n})},j=e=>{let t=(0,c.b)(),{pinId:i,pin:n,...r}=e,a=(0,p.S6)(),s=i?a(i):null,l=s||n;return t?(0,g.jsx)(_,{...r,pinKey:{type:"deprecated",data:l},trackingParamsMap:l.tracking_params_map}):(0,g.jsx)(m,{...r,pinKey:{type:"deprecated",data:l},trackingParamsMap:l.tracking_params_map})},R=void 0!==s?s:s=i(700554),w=e=>{let{pinKey:t,...i}=e,n=(0,c.b)(),r=(0,o.Z)(R,e.pinKey);return n?(0,g.jsx)(f,{...i,duploQueryRef:r}):(0,g.jsx)(x,{...i,duploQueryRef:r})};function T(e){let t=(0,d.HG)(),i=(0,u.Z)(),n=i&&i.isAuth&&t,r=(0,o.Z)(b,e.duploQueryRef);if(n&&!e.duploQueryRef){let{disableReaction:t,disableRounding:i,disableAppUpsell:n,duploDedupeVisualAnnotations:r,duploDisablePinCardPadding:a,duploFeedItemProps:s,duploIsSquarePin:l,duploLazyLoadImage:o,duploOneTapSave:d,duploPinCardDetailsMargin:u,duploPriorityFetchImage:p,duploQueryRef:c,duploShouldAddNiiSearchParamToImageUrls:h,duploShouldAllowProductPriceIndicator:m,duploConversationPin:x,topLevelTrafficSource:_,topLevelTrafficSourceDepth:f,trafficSource:b,...y}=e;return(0,g.jsx)(j,{...y})}let{attributionOption:a,blockClickEvents:s,borderStyle:l,disableHover:p,imageHeightModifier:c,imageOnlyOption:h,onError:m,onLoad:x,pin:_,pinImageCrop:f,pinImageFit:y,resolution:v,rounding:P,saveButtonOptions:R,authDesktopSelectionState:T,authDesktopSurface:E,pinOwner:I,duploQueryRef:S,...k}=e;return(0,g.jsx)(w,{...k,pinKey:r})}function E(e){let t=(0,d.HG)(),i=(0,u.Z)(),n=i&&i.isAuth&&t,r=(0,o.Z)(b,e.duploQueryRef),a=(0,o.Z)(y,e.pinKey);if(n&&!e.duploQueryRef&&null!=a&&null!=e.pinKey){let{disableReaction:t,disableRounding:i,disableAppUpsell:n,duploDedupeVisualAnnotations:r,duploDisablePinCardPadding:s,duploFeedItemProps:l,duploIsSquarePin:o,duploLazyLoadImage:d,duploOneTapSave:u,duploPinCardDetailsMargin:p,duploPriorityFetchImage:c,duploQueryRef:h,duploShouldAddNiiSearchParamToImageUrls:m,duploShouldAllowProductPriceIndicator:x,duploConversationPin:_,topLevelTrafficSource:f,topLevelTrafficSourceDepth:b,trafficSource:y,pinKey:v,trackingParamsMap:j,...R}=e,{pin:w,pinId:T,...E}=R;return(0,g.jsx)(P,{...E,pinKey:a,trackingParamsMap:j})}let{attributionOption:s,blockClickEvents:l,borderStyle:p,disableHover:c,imageHeightModifier:h,imageOnlyOption:m,onError:x,onLoad:_,pin:f,pinImageCrop:v,pinImageFit:j,resolution:R,rounding:T,saveButtonOptions:E,authDesktopSelectionState:I,authDesktopSurface:S,pinOwner:k,duploQueryRef:A,trackingParamsMap:D,...C}=e;return(0,g.jsx)(w,{...C,pinKey:r})}},818385:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(667294),r=i(883119),a=i(205841),s=i(140017),l=i(184390),o=i(666472),d=i(340523),u=i(314018),p=i(575742),c=i(427514),h=i(149722),g=i(67664),m=i(739711),x=i(785893);function _({bubble:e,contextLogData:t,disableTabIndex:i,handleReport:_,height:f,imgSignature:b,isHovered:y,onClick:v,onMouseEnter:P,onMouseLeave:j,referringSource:R,searchBoxRenderStopwatch:w,showFlag:T,slotIndex:E,storyId:I,viewParameter:S,viewType:k,width:A}){let D=(0,s.ZP)(),C=(0,h.Z)(),{id:O,action:N,aux_fields:F,cover_images:M,dominant_colors:z,identifier_icon_type:Z,title:L,story_category:U,curator:H}=e,{checkExperiment:B}=(0,d.F)(),{isAuth:W}=C,K="",V="";if(W&&5===k){K=B("blp_explore_bubble_image_size").group;let e=K.split("_");e.length>1&&K.startsWith("enabled")&&(V=e[1])}let q=B(W?"web_deprecated_impression_tracker_standalone_impression_auth":"web_deprecated_impression_tracker_standalone_impression_unauth").anyEnabled,X=M&&M[0]&&(K.startsWith("enabled")&&V?M[0][V]:M[0]["280x280"]||M[0]["236x"]),Y=(0,c.Z)(L&&L.format||"",L&&L.args||{}),G=z&&z.length?z[0]:"gray",J=N?.url||(0,u.Z)({storyCategory:U,query:Y,referringSource:R,bubbleId:O,storyId:I,title:L.format,pinId:F?.image_pin_id});return q?(0,x.jsx)(o.F,{contextLogData:{story_id:I,...t},impressionAuxFields:{storyCategory:U,story_id:I},impressionType:"Article",loggingId:O,pinData:null,slotIndex:E,viewParameter:S,viewType:k,children:({impressionTrackerRef:e})=>(0,x.jsx)(r.xu,{ref:e,children:(0,x.jsx)(g.Z,{backgroundColor:G,coverImage:X,disableTabIndex:i,height:f,id:O,isHovered:y,onClick:v,onMouseEnter:P,onMouseLeave:j,searchBoxRenderStopwatch:w,url:J,width:A,children:({isHovered:e})=>(0,x.jsxs)(n.Fragment,{children:[H&&26!==U&&(0,x.jsx)(r.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,x.jsx)(a.qE,{name:H.full_name,outline:!0,size:"xs",src:H.image_small_url})}),Z&&Z!==p.J&&(0,x.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,x.jsx)(r.JO,{accessibilityLabel:D._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:(0,p.Z)(Z),size:12})}),(0,x.jsx)(r.xu,{alignItems:26===U?"end":"center","data-test-id":"discover-bubble",display:"flex",height:f,justifyContent:"center",padding:3,position:"absolute",top:!0,width:A||"100%",children:(0,x.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[f>200?(0,x.jsx)(r.X6,{align:"center",color:"light",size:"500",children:Y}):(0,x.jsx)(r.xv,{align:"center",color:"light",weight:"bold",children:Y}),H&&26===U&&(0,x.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,x.jsx)(r.xu,{marginEnd:2,children:(0,x.jsx)(a.qE,{name:H.full_name,outline:!0,size:"xs",src:H.image_small_url})}),(0,x.jsx)(r.xv,{color:"light",size:"100",children:H.full_name})]})]})}),C.isAuth&&C.isEmployee&&T?(0,x.jsx)(r.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,x.jsx)(m.Z,{handleReport:_,imgSignature:b||"",isVisible:e})}):null]})})})}):(0,x.jsx)(l.Z,{contextLogData:{story_id:I,...t},impressionAuxFields:{storyCategory:U,storyIdStr:I},impressionType:"Article",loggingId:O,pinData:null,slotIndex:E,viewParameter:S,viewType:k,children:(0,x.jsx)(g.Z,{backgroundColor:G,coverImage:X,disableTabIndex:i,height:f,id:O,isHovered:y,onClick:v,onMouseEnter:P,onMouseLeave:j,searchBoxRenderStopwatch:w,url:J,width:A,children:({isHovered:e})=>(0,x.jsxs)(n.Fragment,{children:[H&&26!==U&&(0,x.jsx)(r.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,x.jsx)(a.qE,{name:H.full_name,outline:!0,size:"xs",src:H.image_small_url})}),Z&&Z!==p.J&&(0,x.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,x.jsx)(r.JO,{accessibilityLabel:D._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:(0,p.Z)(Z),size:12})}),(0,x.jsx)(r.xu,{alignItems:26===U?"end":"center","data-test-id":"discover-bubble",display:"flex",height:f,justifyContent:"center",padding:3,position:"absolute",top:!0,width:A||"100%",children:(0,x.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[f>200?(0,x.jsx)(r.X6,{align:"center",color:"light",size:"500",children:Y}):(0,x.jsx)(r.xv,{align:"center",color:"light",weight:"bold",children:Y}),H&&26===U&&(0,x.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,x.jsx)(r.xu,{marginEnd:2,children:(0,x.jsx)(a.qE,{name:H.full_name,outline:!0,size:"xs",src:H.image_small_url})}),(0,x.jsx)(r.xv,{color:"light",size:"100",children:H.full_name})]})]})}),C.isAuth&&C.isEmployee&&T?(0,x.jsx)(r.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,x.jsx)(m.Z,{handleReport:_,imgSignature:b||"",isVisible:e})}):null]})})})}},67664:(e,t,i)=>{i.d(t,{A:()=>s,Z:()=>l});var n=i(667294),r=i(883119),a=i(785893);let s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l({backgroundColor:e,children:t,coverImage:i,disableTabIndex:l,height:o,id:d,isHovered:u,onClick:p,onMouseDown:c,onMouseEnter:h,onMouseLeave:g,searchBoxRenderStopwatch:m,url:x,width:_}){let[f,b]=(0,n.useState)(!1),y=()=>{h?h():b(!0)},v=()=>{g?g():b(!1)},P=u||f,j=P?s.hoverOverlay:s.bubbleOverlay;return(0,a.jsx)(r.Tg,{href:x,onBlur:v,onFocus:y,onMouseDown:c,onMouseEnter:y,onMouseLeave:v,onTap:()=>{p?.(d)},rounding:4,tabIndex:l?-1:void 0,children:(0,a.jsx)(r.zd,{height:o,rounding:4,width:_||"100%",children:i?.url?(0,a.jsxs)(r.Ee,{alt:"",color:e,fit:"cover",naturalHeight:i.height??1,naturalWidth:i.width??1,onLoad:()=>{m?.stop()},role:"presentation",src:i.url,children:[(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:j},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:P}):t]}):(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},739711:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(667294),r=i(883119),a=i(107366),s=i(930837),l=i(454514),o=i(140017),d=i(13848);let u={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}};var p=i(785893);function c(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class h extends n.Component{constructor(...e){super(...e),c(this,"state",{hovered:!1}),c(this,"handleMouseEnter",()=>this.setState({hovered:!0})),c(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){let{backgroundHaloSize:e,onClick:t,color:i="subtle"}=this.props,n=Object.freeze({height:e,width:e}),a={border:0,display:"block",background:"transparent",cursor:"pointer",...u.buttonFocus},s={...u.pog,...u.transparent,...this.state.hovered?u.transparentHovered:{}},l={...n,...s};return(0,p.jsx)("button",{onClick:e=>t&&t({event:e}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:a,type:"button",children:(0,p.jsx)("div",{style:l,children:(0,p.jsx)(r.xu,{rounding:"circle",children:(0,p.jsx)(r.JO,{accessibilityLabel:"",color:i,icon:"flag",size:e/2})})})})}}var g=i(825784);function m(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class x extends n.PureComponent{constructor(...e){super(...e),m(this,"state",{showModal:!1,reportType:null}),m(this,"handleDismiss",()=>this.setState({showModal:!1})),m(this,"handleClick",()=>{let{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),m(this,"reportSuggestionImage",async()=>{let{imgSignature:e,reportImage:t}=this.props;this.setState({showModal:!1});let i=await (0,a.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}}),{id:n,node_id:r}=i.resource_response.data;t({id:n,nodeId:r})}),m(this,"reportSuggestionText",()=>{let{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({hideToast:e})=>(0,p.jsx)(l.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})),this.handleDismiss())}),m(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){let{showModal:e}=this.state;return(0,p.jsxs)(n.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(h,{backgroundHaloSize:24,onClick:this.showModal}),e&&(0,p.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(r.xu,{children:[(0,p.jsx)(r.xu,{padding:5,children:(0,p.jsx)(r.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(r.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,p.jsxs)(r.xu,{direction:"column",display:"flex",marginBottom:4,paddingX:5,role:"list",children:[(0,p.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,p.jsx)(r.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(r.xu,{flex:"grow",children:(0,p.jsx)(r.__,{htmlFor:"textType",children:(0,p.jsx)(r.xu,{paddingX:2,children:(0,p.jsx)(r.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,p.jsx)(r.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(r.xu,{flex:"grow",children:(0,p.jsx)(r.__,{htmlFor:"imageType",children:(0,p.jsx)(r.xu,{paddingX:2,children:(0,p.jsx)(r.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(r.iz,{}),(0,p.jsxs)(r.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(r.xu,{margin:2,children:(0,p.jsx)(r.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(r.xu,{margin:2,children:(0,p.jsx)(r.zx,{color:"red",disabled:!this.state.reportType,fullWidth:!0,onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion')})})]})]})]})})]})}}function _(e){let t=(0,o.ZP)(),{reportImage:i}=(0,g.f)();return(0,p.jsx)(x,{...e,i18n:t,reportImage:i,toastManagerContext:(0,d.F9)()})}},825784:(e,t,i)=>{i.d(t,{X:()=>u,f:()=>d});var n=i(667294),r=i(342513),a=i(558273);function s(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=i(785893);let{Provider:o,useHook:d}=(0,r.Z)("ReportData");function u({children:e}){let[t,i]=(0,n.useReducer)(s,null),r=(0,n.useCallback)(()=>i({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,n.useCallback)((e,t,n)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:n,nodeId:null}}),[]),u=(0,n.useCallback)((e,t,n)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"conversation",nodeId:null}}),[]),p=(0,n.useCallback)(({id:e,viewParameter:t,viewType:n,nodeId:r})=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin",nodeId:r}}),[]),c=(0,n.useCallback)(({pinId:e,isDownstreamPromotion:t,hasPromoter:n,firstVideoDuration:r,isProduct:s,viewParameter:l,viewType:o,isThirdPartyAd:d,nodeId:u})=>{let p=(0,a.jL)(t,n);i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:s,isPromoted:p,videoDuration:r,viewParameter:l,viewType:o,type:"pin",isThirdPartyAd:d,nodeId:u}})},[]),h=(0,n.useMemo)(()=>({reportData:t,dismiss:r,reportComment:d,reportConversation:u,reportImage:p,reportPin:c}),[t,r,d,u,p,c]);return(0,l.jsx)(o,{value:h,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/11697-9f4b54dcae8eaee1.mjs.map